
// source\data\settings.js
enyo.kind({name:"gopro.settings",statics:{debug:!0,controlsSkipToNextVideo:!0,useSampleVideos:!1,sampleVideos:["GoPro- Shark Feeding with Andy Casagrande in 2.7K 3D.mp4","GoPro- Petting A Tiger Shark.mp4","GoPro- Crystal Ball Street Performer.mp4","GoPro- Rooftop Ping Pong.mp4","GoPro- Kama The Surfing Pig.mp4"],sampleVideoHash:{"86533256685552701":"GoPro- Shark Feeding with Andy Casagrande in 2.7K 3D.mp4","84239556076897927":"GoPro- Petting A Tiger Shark.mp4","80438526822319567":"GoPro- Crystal Ball Street Performer.mp4","79090738754749899":"GoPro- Rooftop Ping Pong.mp4","68365560802444585":"GoPro- Kama The Surfing Pig.mp4","68366969325225259":"GoPro- Epic Roof Jump.mp4",68366591577818410:"GoPro- Duncan The Two-Legged Pup.mp4","71057877954987726":"GoPro- Canary Islands Bodyboarding with Sacha Specker.mp4","68369222304007468":"GoPro- Bamboo Kung-Fu.mp4","66103462269551811":"GoPro- Ram vs Dirtbiker.mp4","64740407010919604":"GoPro- Danny MacAskill's Imaginate.mp4","60907852931269711":"GoPro- Backyard Trick Shot - Golf.mp4","55073497977717801":"GoPro- Diver Saves Sea Turtle.mp4","58085219097379895":"GoPro- Brasil Extended - Barefoot Pickup.mp4","55294890405266478":"GoPro- Fireworks From A Drone.mp4","52905028658136078":"GoPro- GoPro- Brasil Extended - Juggling in Traffic.mp4",55073484715328550:"GoPro- Koh Yao Noi - a film by Philip Bloom in 2.7K.mp4",48744082243061730:"GoPro- Brasil Futebol - For the Love 'Express\u00e3o'.mp4","44244846772225614":"GoPro- Brasil Futebol - For the Love 'Ra\u00edzes'.mp4","34907195359364798":"GoPro- Still Lost in Peru.mp4","34907643520747297":"GoPro- Endless Barrels - GoPro of the Winter 2013-14 powered by Surfline.mp4","86532565028045884":"GoPro- Highline Rope Swing.mp4","71202746102974161":"GoPro- Wingsuits Over The Big Apple.mp4","78284940831098304":"GoPro- 3rd Person Paramotor.mp4","63977392154084468":"GoPro- Red Bull X Alps.mp4",81332733543974530:"GoPro- Ghost Town Card Draw.mp4","70483789154879179":"GoPro- MTB Volcano Descent With Aaron Chase.mp4","34908220556314462":"GoPro- Father & Daughter Surf Session with Chris and Malia Ward.mp4","52900196945757197":"GoPro- Rhino Kiss.mp4","61038416111862864":"GoPro- Elephant Lunch Break.mp4",fake:"no-url"}}});

// source\data\data.js
enyo.kind({name:"gopro.PlaylistInfoCollection",kind:"enyo.Collection",model:"gopro.PlaylistInfoModel",url:"https://api.gopro.com/v1/channels/xbox-one/playlists.json",parse:function(t){return t.playlists}}),enyo.kind({name:"gopro.PlaylistInfoModel",kind:"enyo.Model",url:"https://api.gopro.com/v1/channels/xbox-one/playlists.json",parse:function(t){for(var e in t.thumbnail.snapview_image)t["thumbnail_snapviewImage_"+e]=t.thumbnail.snapview_image[e];for(var e in t.thumbnail)t["thumbnail_"+e]=t.thumbnail[e],delete t.thumbnail[e];return delete t.thumbnail,t.videoCountDisplay=t.video_count+" videos",t}}),enyo.kind({name:"gopro.Playlist",kind:"enyo.Collection",model:"gopro.VideoClip",events:{onDidFetchRecords:""},getUrl:function(){return this.link},didFetch:function(t){this.doDidFetchRecords(t)}}),enyo.kind({name:"gopro.VideoClip",kind:"enyo.Model",parse:function(t){for(var e in t.thumbnail.snapview_image)t["thumbnail_snapviewImage_"+e]=t.thumbnail.snapview_image[e];for(var e in t.thumbnail)t["thumbnail_"+e]=t.thumbnail[e],delete t.thumbnail[e];return delete t.thumbnail,t.video_link=t.video.link,delete t.video,t}});

// source\views\playlistGrid.js
enyo.kind({name:"gopro.PlaylistGridPanel",kind:"moon.Panel",classes:"playlist-grid",title:"Playlists",smallHeader:!0,autoNumber:!1,headerBackgroundSrc:"assets/gopro_logo.svg",headerBackgroundPosition:"center left",headerOptions:{classes:"gopro-header"},components:[{kind:"FittableColumns",fit:!0,components:[{name:"gridList",kind:"moon.DataGridList",fit:!0,spacing:20,minWidth:450,minHeight:256,selection:!0,events:{onPlaylistGridSelectedChanged:""},scrollerOptions:{kind:"moon.Scroller",vertical:"scroll",horizontal:"hidden",spotlightPagingControls:!0},components:[{kind:"gopro.PlaylistImageItem"}],selectedChanged:function(t,e){this.doPlaylistGridSelectedChanged(e)}}]}],bindings:[{from:".playlists.records",to:".$.dataList.collection"},{from:".playlists",to:".$.gridList.collection"},{from:".$.selectionToggle.value",to:".$.gridList.selection"},{from:".$.multiSelectToggle.value",to:".$.gridList.multipleSelection"}],create:function(){this.inherited(arguments),this.set("playlists",new gopro.PlaylistInfoCollection),this.get("playlists").fetch()}}),enyo.kind({name:"gopro.PlaylistImageItem",kind:"moon.GridListImageItem",mixins:["moon.SelectionOverlaySupport"],useCaption:!0,useSubCaption:!1,imageSizing:"cover",bindings:[{from:".model.link_text",to:".caption"},{from:".model.videoCountDisplay",to:".subCaption"},{from:".model.thumbnail_default",to:".source"}]});

// source\views\videoClipGrid.js
enyo.kind({name:"gopro.VideoClipGridPanel",kind:"moon.Panel",classes:"video-clip-grid",smallHeader:!0,headerOptions:{classes:"gopro-header"},published:{link:"",playlistTitle:"",playlist:null},components:[{kind:"FittableColumns",fit:!0,components:[{name:"gridList",kind:"moon.DataGridList",fit:!0,spacing:20,minWidth:300,minHeight:174,selection:!0,events:{onVideoClipGridSelectedChanged:""},scrollerOptions:{kind:"moon.Scroller",vertical:"scroll",horizontal:"hidden",spotlightPagingControls:!0},components:[{kind:"gopro.VideoClipImageItem"}],selectedChanged:function(t,e){this.doVideoClipGridSelectedChanged(e)}}]}],bindings:[{from:".playlistTitle",to:".title"},{from:".playlist.records",to:".$.dataList.collection"},{from:".playlist",to:".$.gridList.collection"},{from:".$.selectionToggle.value",to:".$.gridList.selection"},{from:".$.multiSelectToggle.value",to:".$.gridList.multipleSelection"}],create:function(){this.inherited(arguments),this.set("playlist",new gopro.Playlist),this.playlist.store.ignoreDuplicates=!0},linkChanged:function(){this.getData(this.link)},getData:function(t){var e=new enyo.Ajax({url:t,method:"GET",handleAs:"json"});e.response(enyo.bind(this,"processResponse")),e.go({})},processResponse:function(t,e){if(e){if(gopro.settings.useSampleVideos)for(var i=0,n=e.length;n>i;i++)e[i].video.link=this._demoGetLocalVideo(i,e);this.playlist.removeAll(),this.playlist.merge(e),gopro.settings.debug&&enyo.log(this.playlist.records)}},_demoGetLocalVideo:function(t,e){var i=gopro.settings.sampleVideoHash[""+e[t].id]||gopro.settings.sampleVideos[t%gopro.settings.sampleVideos.length],n="assets/sampleVideos/"+i;return n}}),enyo.kind({name:"gopro.VideoClipImageItem",kind:"moon.GridListImageItem",mixins:["moon.SelectionOverlaySupport"],useCaption:!0,useSubCaption:!1,imageSizing:"cover",bindings:[{from:".model.title",to:".caption"},{from:".model.videoCountDisplay",to:".subCaption"},{from:".model.thumbnail_default",to:".source"}]});

// source\views\videoPlayer.js
enyo.kind({name:"gopro.VideoPlayer",kind:"moon.VideoPlayer",autoShowOverlay:!0,autoplay:!1,showJumpControls:!0,jumpStartEnd:!0,showFFRewindControls:!0,published:{link:"",playlist:null,currentVideoIndex:-1},events:{onPlaylistComplete:""},handlers:{onended:"onVideoEnded",onPlay:"onVideoStart"},infoComponents:[{kind:"moon.VideoInfoBackground",orient:"left",background:!0,fit:!0,components:[{kind:"moon.ChannelInfo",classes:"moon-2h gopro-channel-info",components:[{kind:"Image",src:"assets/gopro.png",classes:"gopro-player-channelinfo-image"},{name:"infoIcon",classes:"moon-video-player-info-redicon "}]},{name:"headerInfo",kind:"moon.VideoInfoHeader"}]}],bindings:[{from:".currentVideoClip.video_link",to:".src"},{from:".currentVideoClip.title",to:".$.headerInfo.subTitle"},{from:".currentVideoClip.description",to:".$.headerInfo.description"},{from:".infoIconText",to:".$.infoIcon.content"}],constructor:function(){this.inherited(arguments)},create:function(){this.inherited(arguments),this.set("playlist",new gopro.Playlist),this.playlist.store.ignoreDuplicates=!0},onVideoStart:function(){},onVideoEnded:function(){enyo.log("video ended"),this.set("currentVideoIndex",this.currentVideoIndex+1)},currentVideoIndexChanged:function(){this.currentVideoIndex>-1&&(this.currentVideoIndex<this.playlist.length?(this.set("currentVideoClip",this.playlist.at(this.currentVideoIndex)),this.set("infoIconText",this.currentVideoClip.attributes.vertical),this.play()):this.doPlaylistComplete())},getDurationDisplay:function(){var t=this.$.video.getDuration(),e=Math.floor(t/60),n=Math.round(60*(t/60-e)),i=e+":"+n;return i},playlistIsFetchingChanged:function(t){enyo.log("playlistIsFetching changed from"+t+" to "+this.playlistIsFetching)}});

// source\views\views.js
enyo.kind({name:"myapp.MainView",pattern:"activity",classes:"moon enyo-fit",handlers:{onPlaylistGridSelectedChanged:"playlistGridSelectedChanged",onVideoClipGridSelectedChanged:"videoClipGridSelectedChanged"},components:[{kind:"Signals",onPanelsShown:"panelsShown",onPanelsHidden:"panelsHidden"},{useHandle:!0,name:"player",kind:"gopro.VideoPlayer"},{name:"panels",kind:"moon.Panels",pattern:"activity",classes:"enyo-fit",useHandle:!0,components:[{kind:"gopro.PlaylistGridPanel"},{name:"videoClipGrid",kind:"gopro.VideoClipGridPanel"}]}],rendered:function(){this.inherited(arguments),enyo.Spotlight.spot(this.$.panels)},create:function(){this.inherited(arguments),this.anim=this.$.panels.getAnimator()},playlistGridSelectedChanged:function(t,e){var n=e.previous;n?(enyo.log(n),this.$.videoClipGrid.setLink(n.link),this.$.videoClipGrid.setPlaylistTitle(n.link_text)):(enyo.log("No item"),enyo.log(e)),this.$.panels.setIndex(1)},videoClipGridSelectedChanged:function(t,e){var n=this.$.videoClipGrid.playlist.indexOf(e);console.log("Item "+n+" selected"),n>-1?(this.$.player.setPlaylist(this.$.videoClipGrid.playlist),this.$.player.setCurrentVideoIndex(-1),this.$.player.setCurrentVideoIndex(n),this.$.panels.hide()):enyo.log("Video clip index is < 0.")},panelsShown:function(){enyo.log("onPanelsShown"),this.$.player.pause()},panelsHidden:function(){enyo.log("onPanelsHidden"),this.$.player.play()}});

// source\app.js
enyo.kind({name:"myapp.Application",kind:"enyo.Application",view:"myapp.MainView"}),enyo.ready(function(){new myapp.Application({name:"app"})});
